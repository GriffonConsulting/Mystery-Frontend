const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RemoveShoppingCart-B5M9yBz4.js","assets/index-64oXNr-o.js","assets/index-BqjoAt1F.css"])))=>i.map(i=>d[i]);
import{j as e,r as l,bK as p,bL as d,a as y,u as f,e as g,C as b,B as o,i as v,T as h,d as k}from"./index-64oXNr-o.js";const C=a=>{switch(a){case"RemoveShoppingCart":return l.lazy(()=>d(()=>import("./RemoveShoppingCart-B5M9yBz4.js").then(s=>s.R),__vite__mapDeps([0,1,2])));default:return l.lazy(()=>d(()=>import("./RemoveShoppingCart-B5M9yBz4.js").then(s=>s.R),__vite__mapDeps([0,1,2])))}},R=({icon:a})=>{const s=C(a);return e.jsx(l.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(s,{})})},w=()=>{const a=y(),[s,x]=f(["basket"]),r=s.basket,[i,u]=l.useState([]),m=t=>{const n=r.findIndex(j=>j===t);r.splice(n,1),x("basket",r,{sameSite:!0,secure:!0,path:"/"})};l.useEffect(()=>{r&&g.product.getProductsByIds(r).then(t=>u(t.data.result))},[r]);const c=new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"});return e.jsxs(b,{children:[e.jsx("h1",{children:"Panier"}),i.length!==0&&e.jsxs(o,{display:"flex",flexDirection:"row",gap:5,children:[e.jsx("div",{children:i==null?void 0:i.map((t,n)=>e.jsxs(o,{display:"flex",flexDirection:"row",marginBottom:2,borderRadius:3,p:2,style:{backgroundColor:"white"},children:[e.jsx("img",{width:150,height:100,style:{borderRadius:3},className:"imageCarousel",src:t.images[0],alt:`${v.t(`${t.productType}.title`)} ${t.productType} ${n}`}),e.jsxs(o,{ml:3,width:"100%",children:[e.jsxs(o,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[e.jsx("div",{children:e.jsx(h,{component:"h5",variant:"h6",margin:0,children:t.title})}),e.jsxs("div",{style:{cursor:"pointer",fontSize:"16px"},onClick:()=>m(t.id),children:[e.jsx(R,{icon:"RemoveShoppingCart"})," Supprimer"]})]}),e.jsx(h,{component:"h6",variant:"subtitle1",margin:0,color:"gray",children:t.subtitle}),e.jsx("div",{children:e.jsxs("b",{children:[t.nbPlayerMin," Ã  ",t.nbPlayerMax," joueurs"]})}),e.jsx("div",{children:c.format(t.price)})]})]},n+t.id))}),e.jsxs(o,{height:"fit-content",p:4,borderRadius:3,style:{backgroundColor:"white"},minWidth:300,children:[e.jsx("div",{style:{marginBottom:16},children:e.jsxs("b",{children:["Total ",c.format((i==null?void 0:i.reduce((t,{price:n})=>t+n,0))??0)]})}),e.jsx(k,{variant:"contained",fullWidth:!0,onClick:()=>a("/order/checkout"),children:"Commander"})]})]})]})};export{w as Basket,w as default};
