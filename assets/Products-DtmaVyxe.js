import{c as k,r as l,m as C,P as w,u as P,e as T,j as e,C as $,i as n,L as a,T as d,B as r,d as u}from"./index-Bapmzi_e.js";import{B}from"./Breadcrumbs-CC35E6ka.js";const E=()=>{const x=k(),[h,m]=l.useState(!1),[o,p]=l.useState();let{productType:t}=C();t||(t=w.MurderParty);const[f,j]=P(["basket"]),y=new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"});l.useEffect(()=>{T.product.getProducts(t).then(s=>p(s.data.result))},[t]);const b=s=>{m(!0);const i=f.basket??[];i.findIndex(g=>g===(s==null?void 0:s.id))===-1&&s&&(i.push(s.id),j("basket",i,{sameSite:!0,secure:!0,path:"/"}))};return e.jsxs($,{children:[e.jsxs(B,{separator:"-","aria-label":"breadcrumb",style:{marginTop:16},children:[e.jsx(a,{to:"/",style:{color:x.palette.primary.main},children:n.t("homepage")}),t&&e.jsx(d,{color:x.palette.primary.main,children:t})]}),t&&n.t(`${t}.title`),e.jsx(r,{display:"flex",flexDirection:"column",gap:3,marginTop:3,children:o&&o.length>0&&o.map((s,i)=>e.jsxs(r,{"data-testid":`product${i}`,style:{backgroundColor:"white"},sx:c=>({[c.breakpoints.down("md")]:{flexDirection:"column"},[c.breakpoints.up("md")]:{flexDirection:"row"}}),borderRadius:3,display:"flex",children:[e.jsx(r,{p:2,children:s.images&&e.jsx(a,{to:`/product/${t}/${s.productCode}`,children:e.jsx("img",{width:"100%",className:"imageCarousel",src:s.images[0],alt:`${n.t(`${t}.title`)} ${t}`})})}),e.jsxs(r,{p:2,justifyContent:"space-between",flexDirection:"column",display:"flex",children:[e.jsxs("div",{children:[e.jsxs(r,{justifyContent:"space-between",flexDirection:"row",display:"flex",children:[e.jsx(d,{component:"h1",variant:"h5",margin:0,children:s.title}),e.jsx("div",{children:e.jsxs("b",{children:[s.nbPlayerMin," Ã  ",s.nbPlayerMax," joueurs"]})})]}),e.jsxs(r,{justifyContent:"space-between",flexDirection:"row",display:"flex",children:[e.jsx(d,{component:"h2",variant:"h6",margin:0,color:"grey",children:s.subtitle}),e.jsx("div",{children:y.format(s.price)})]}),e.jsx("span",{style:{fontSize:14},children:s.description})]}),e.jsxs(r,{justifyContent:"flex-end",flexDirection:"row",display:"flex",children:[e.jsx(a,{to:`/product/${t}/${s.productCode}`,children:e.jsx(u,{children:"Voir la description"})}),e.jsx(a,{to:"/order/basket",children:e.jsx(u,{disabled:h,variant:"contained",onClick:()=>b(s),children:n.t("addToBasket")})})]})]})]},s.id))})]})};export{E as Products,E as default};
